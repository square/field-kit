(function(t){if("function"==typeof bootstrap)bootstrap("fieldkit",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeFieldKit=t}else"undefined"!=typeof window?window.FieldKit=t():global.FieldKit=t()})(function(){return function(t,e,n){function r(n,o){if(!e[n]){if(!t[n]){var s="function"==typeof require&&require;if(!o&&s)return s(n,!0);if(i)return i(n,!0);throw Error("Cannot find module '"+n+"'")}var a=e[n]={exports:{}};t[n][0].call(a.exports,function(e){var i=t[n][1][e];return r(i?i:e)},a,a.exports)}return e[n].exports}for(var i="function"==typeof require&&require,o=0;n.length>o;o++)r(n[o]);return r}({1:[function(t,e){(function(){var n;n={AdaptiveCardFormatter:t("./adaptive_card_formatter"),AmexCardFormatter:t("./amex_card_formatter"),CardTextField:t("./card_text_field"),DefaultCardFormatter:t("./default_card_formatter"),DelimitedTextFormatter:t("./delimited_text_formatter"),ExpiryDateField:t("./expiry_date_field"),ExpiryDateFormatter:t("./expiry_date_formatter"),Formatter:t("./formatter"),NumberFormatter:t("./number_formatter"),PhoneFormatter:t("./phone_formatter"),SocialSecurityNumberFormatter:t("./social_security_number_formatter"),TextField:t("./text_field"),UndoManager:t("./undo_manager")},e.exports=n}).call(this)},{"./adaptive_card_formatter":2,"./amex_card_formatter":3,"./card_text_field":4,"./default_card_formatter":5,"./delimited_text_formatter":6,"./expiry_date_field":7,"./expiry_date_formatter":8,"./formatter":9,"./number_formatter":10,"./phone_formatter":11,"./social_security_number_formatter":12,"./text_field":13,"./undo_manager":14}],9:[function(t,e){(function(){var t;t=function(){function t(){}return t.prototype.maximumLength=null,t.prototype.format=function(t){return null==t&&(t=""),null!=this.maximumLength&&(t=t.substring(0,this.maximumLength)),t},t.prototype.parse=function(t){return null==t&&(t=""),null!=this.maximumLength&&(t=t.substring(0,this.maximumLength)),t},t.prototype.isChangeValid=function(t){var e,n,r,i,o,s;return s=t.proposed,r=s.selectedRange,i=s.text,null!=this.maximumLength&&i.length>this.maximumLength&&(e=this.maximumLength-(i.length-t.inserted.text.length),n=t.current.text.substring(0,t.current.selectedRange.start),e>0&&(n+=t.inserted.text.substring(0,e)),n+=t.current.text.substring(t.current.selectedRange.start+t.current.selectedRange.length),o=i.length-n.length,t.proposed.text=n,r.start-=o),!0},t}(),e.exports=t}).call(this)},{}],14:[function(t,e){(function(){var t,n,r=[].slice;n=function(t,e){var n,r,i;return(null!=t?null!=(n=t.constructor)?n.prototype:void 0:void 0)&&(null!=(r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e))?r.get:void 0)?!0:null!=(null!=(i=Object.getOwnPropertyDescriptor(t,e))?i.get:void 0)},t=function(){function t(){this._undos=[],this._redos=[]}return t.prototype._undos=null,t.prototype._redos=null,t.prototype._isUndoing=!1,t.prototype._isRedoing=!1,t.prototype.canUndo=function(){return 0!==this._undos.length},t.prototype.canRedo=function(){return 0!==this._redos.length},t.prototype.isUndoing=function(){return this._isUndoing},t.prototype.isRedoing=function(){return this._isRedoing},t.prototype.registerUndo=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=arguments.length>=3?r.call(arguments,2):[],this._isUndoing?this._appendRedo.apply(this,[n,e].concat(r.call(t))):(this._isRedoing||(this._redos.length=0),this._appendUndo.apply(this,[n,e].concat(r.call(t)))),null},t.prototype._appendUndo=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=arguments.length>=3?r.call(arguments,2):[],this._undos.push({target:n,selector:e,args:t})},t.prototype._appendRedo=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=arguments.length>=3?r.call(arguments,2):[],this._redos.push({target:n,selector:e,args:t})},t.prototype.undo=function(){var t,e,n,r;if(!this.canUndo())throw Error("there are no registered undos");return r=this._undos.pop(),n=r.target,e=r.selector,t=r.args,this._isUndoing=!0,n[e].apply(n,t),this._isUndoing=!1,null},t.prototype.redo=function(){var t,e,n,r;if(!this.canRedo())throw Error("there are no registered redos");return r=this._redos.pop(),n=r.target,e=r.selector,t=r.args,this._isRedoing=!0,n[e].apply(n,t),this._isRedoing=!1,null},t.prototype.proxyFor=function(t){var e,i,o,s=this;e={},o=function(n){return e[n]=function(){var e;return e=arguments.length>=1?r.call(arguments,0):[],s.registerUndo.apply(s,[t,n].concat(r.call(e)))}};for(i in t)n(t,i)||"function"==typeof t[i]&&o(i);return e},t}(),e.exports=t}).call(this)},{}],2:[function(t,e){(function(){var n,r,i,o,s,a;i=t("./amex_card_formatter"),o=t("./default_card_formatter"),a=t("./card_utils"),s=a.determineCardType,n=a.AMEX,r=function(){function t(){this.amexCardFormatter=new i,this.defaultCardFormatter=new o,this.formatter=this.defaultCardFormatter}return t.prototype.format=function(t){return this._formatterForPan(t).format(t)},t.prototype.parse=function(t,e){return this.formatter.parse(t,e)},t.prototype.isChangeValid=function(t){return this.formatter=this._formatterForPan(t.proposed.text),this.formatter.isChangeValid(t)},t.prototype._formatterForPan=function(t){return s(t.replace(/[^\d]+/g,""))===n?this.amexCardFormatter:this.defaultCardFormatter},t}(),e.exports=r}).call(this)},{"./amex_card_formatter":3,"./default_card_formatter":5,"./card_utils":15}],3:[function(t,e){(function(){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("./default_card_formatter"),n=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.maximumLength=17,e.prototype.hasDelimiterAtIndex=function(t){return 4===t||11===t},e}(r),e.exports=n}).call(this)},{"./default_card_formatter":5}],4:[function(t,e){(function(){var n,r,i,o,s,a={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("./text_field"),n=t("./adaptive_card_formatter"),s=t("./card_utils").determineCardType,r={None:"None",DoneEditing:"DoneEditing"},i=function(t){function e(t){e.__super__.constructor.call(this,t,new n),this.setCardMaskStrategy(r.None)}return u(e,t),e.prototype.cardType=function(){return s(this.value())},e.prototype.cardMaskStrategy=function(){return this._cardMaskStrategy},e.prototype.setCardMaskStrategy=function(t){return t!==this._cardMaskStrategy&&(this._cardMaskStrategy=t),null},e.prototype._masked=!1,e.prototype.text=function(){return this._masked?this._unmaskedText:e.__super__.text.call(this)},e.prototype.setText=function(t){return this._masked&&(this._unmaskedText=t,t=this.cardMask()),e.__super__.setText.call(this,t)},e.prototype.textFieldDidEndEditing=function(){return this.cardMaskStrategy()===r.DoneEditing?this._enableMasking():void 0},e.prototype.textFieldDidBeginEditing=function(){return this.cardMaskStrategy()===r.DoneEditing?this._disableMasking():void 0},e.prototype._enableMasking=function(){return this._masked?void 0:(this._unmaskedText=this.text(),this._masked=!0,this.setText(this._unmaskedText))},e.prototype._disableMasking=function(){return this._masked?(this._masked=!1,this.setText(this._unmaskedText),this._unmaskedText=null):void 0},e.prototype.cardMask=function(){var t,e,n;return e=this.text(),n=e.slice(0,-4),t=e.slice(-4),n.replace(/\d/g,"•")+t},e}(o),i.CardMaskStrategy=r,e.exports=i}).call(this)},{"./text_field":13,"./adaptive_card_formatter":2,"./card_utils":15}],5:[function(t,e){(function(){var n,r,i,o,s,a,u={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("./delimited_text_formatter"),s=t("./card_utils"),o=s.validCardLength,i=s.luhnCheck,n=function(t){function e(){return a=e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.delimiter=" ",e.prototype.maximumLength=19,e.prototype.hasDelimiterAtIndex=function(t){return 4===t||9===t||14===t},e.prototype.parse=function(t,n){var r;return r=this._valueFromText(t),o(r)||"function"==typeof n&&n("card-formatter.number-too-short"),i(r)||"function"==typeof n&&n("card-formatter.invalid-number"),e.__super__.parse.call(this,t,n)},e.prototype._valueFromText=function(t){return e.__super__._valueFromText.call(this,(null!=t?t:"").replace(/[^\d]/g,""))},e}(r),e.exports=n}).call(this)},{"./delimited_text_formatter":6,"./card_utils":15}],6:[function(t,e){(function(){var n,r,i={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s=[].slice;r=t("./formatter"),n=function(t){function e(t){var e;if(null==t&&(t=this.delimiter),this.delimiter=t,1!==(null!=(e=this.delimiter)?e.length:void 0))throw Error("delimiter must have just one character")}return o(e,t),e.prototype.delimiter=null,e.prototype.delimiterAt=function(t){return this.hasDelimiterAtIndex(t)?this.delimiter:null},e.prototype.isDelimiter=function(t){return t===this.delimiter},e.prototype.format=function(t){return this._textFromValue(t)},e.prototype._textFromValue=function(t){var e,n,r,i,o;if(!t)return"";for(r="",i=0,o=t.length;o>i;i++){for(e=t[i];n=this.delimiterAt(r.length);)r+=n;for(r+=e;n=this.delimiterAt(r.length);)r+=n}return r},e.prototype.parse=function(t){return this._valueFromText(t)},e.prototype._valueFromText=function(t){var e;return t?function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],this.isDelimiter(e)||i.push(e);return i}.call(this).join(""):""},e.prototype.isChangeValid=function(t,n){var r,i,o,a,u,l,c,p,h,f,d,g;if(!e.__super__.isChangeValid.call(this,t,n))return!1;if(c=t.proposed.text,p=t.proposed.selectedRange,a=0!==p.length,h=p.start<t.current.selectedRange.start,d=p.start>t.current.selectedRange.start,r=p.start+p.length<t.current.selectedRange.start+t.current.selectedRange.length,o=p.start+p.length>t.current.selectedRange.start+t.current.selectedRange.length,f=h&&this.hasDelimiterAtIndex(p.start)||d&&this.hasDelimiterAtIndex(p.start-1),i=r&&this.hasDelimiterAtIndex(p.start+p.length)||o&&this.hasDelimiterAtIndex(p.start+p.length-1),this.isDelimiter(t.deleted.text)){for(l=t.deleted.start-1;this.isDelimiter(c.charAt(l));)c=c.substring(0,l)+c.substring(l+1),l--;c=c.substring(0,l)+c.substring(l+1)}if(h&&f){for(;this.delimiterAt(p.start-1);)p.start--,p.length++;p.start--,p.length++}if(d){for(;this.delimiterAt(p.start);)p.start++,p.length--;if(f)for(p.start++,p.length--;this.delimiterAt(p.start);)p.start++,p.length--}if(a){if(i){if(r){for(;this.delimiterAt(p.start+p.length-1);)p.length--;p.length--}if(o){for(;this.delimiterAt(p.start+p.length);)p.length++;p.length++}}for(;this.hasDelimiterAtIndex(p.start+p.length-1);)h||r?p.length--:p.length++;for(;this.hasDelimiterAtIndex(p.start);)d||o?(p.start++,p.length--):(p.start--,p.length++)}else p.length=0;return u=!0,g=this._valueFromText(c,function(){var t;return t=arguments.length>=1?s.call(arguments,0):[],u=!1,n.apply(null,t)}),u&&(t.proposed.text=this._textFromValue(g)),u},e}(r),e.exports=n}).call(this)},{"./formatter":9}],7:[function(t,e){(function(){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("./text_field"),r=t("./expiry_date_formatter"),n=function(t){function e(t){e.__super__.constructor.call(this,t,new r)}return s(e,t),e.prototype.textFieldDidEndEditing=function(){var t;return t=this.value(),t?this.setText(this.formatter().format(t)):void 0},e}(i),e.exports=n}).call(this)},{"./text_field":13,"./expiry_date_formatter":8}],8:[function(t,e){(function(){var n,r,i,o,s,a={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./delimited_text_formatter"),o=function(t){var e;for(e=""+t;2>e.length;)e="0"+e;return e},i=function(t){var e,n,r;return r=(new Date).getFullYear(),n=r-r%100,e=[n,n-100,n+100].sort(function(e,n){return Math.abs(r-(t+e))-Math.abs(r-(t+n))}),t+e[0]},r=function(t){function e(){return s=e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.delimiter="/",e.prototype.maximumLength=5,e.prototype.hasDelimiterAtIndex=function(t){return 2===t},e.prototype.format=function(t){var n,r;return t?(n=t.month,r=t.year,r%=100,e.__super__.format.call(this,o(n)+o(r))):""},e.prototype.parse=function(t,e){var n,r,o;return o=t.split(this.delimiter),n=o[0],r=o[1],(null!=n?n.match(/^(0?[1-9]|1\d)$/):void 0)&&(null!=r?r.match(/^\d\d?$/):void 0)?(n=Number(n),r=i(Number(r)),{month:n,year:r}):(e("expiry-date-formatter.invalid-date"),null)},e.prototype.isChangeValid=function(t,e){var n,r,i;if(n=t.proposed.text.length<t.current.text.length,i=t.proposed.text,n)t.deleted.text===this.delimiter&&(i=i[0]),"0"===i&&(i="");else if(t.inserted.text===this.delimiter&&"1"===t.current.text)i="01"+this.delimiter;else{if(t.inserted.text.length>0&&!/^\d$/.test(t.inserted.text))return e("expiry-date-formatter.only-digits-allowed"),!1;if(/^[2-9]$/.test(i)&&(i="0"+i),/^1[3-9]$/.test(i))return e("expiry-date-formatter.invalid-month"),!1;if("00"===i)return e("expiry-date-formatter.invalid-month"),!1;/^(0[1-9]|1[0-2])$/.test(i)&&(i+=this.delimiter),(r=i.match(/^(\d\d)(.)(\d\d?).*$/))&&r[2]===this.delimiter&&(i=r[1]+this.delimiter+r[3])}return t.proposed.text=i,t.proposed.selectedRange={start:i.length,length:0},!0},e}(n),e.exports=r}).call(this)},{"./delimited_text_formatter":6}],10:[function(t,e){(function(){var n,r,i,o,s,a,u,l,c,p,h,f,d,g,m,y,_,v,x,S,b,D,R,A,E,C,P=[].slice,F={}.hasOwnProperty,M=function(t,e){function n(){this.constructor=t}for(var r in e)F.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};l=t("./formatter"),n=0,u=1,a=2,p=3,v=4,c=5,h=6,d=0,r=1,m=2,s="en-US",o="US",b=function(t){return/^\d*$/.test(t)},C=function(t,e){return e.slice(0,t.length)===t},x=function(t,e){return e.slice(e.length-t.length)===t},E=function(t){var e,n,r;return e=t.match(/^([a-z][a-z])(?:[-_]([a-z][a-z]))?$/i),{lang:null!=e?null!=(n=e[1])?n.toLowerCase():void 0:void 0,country:null!=e?null!=(r=e[2])?r.toUpperCase():void 0:void 0}},S=function(){var t,e,n,r;return n=arguments[0],e=arguments[1],t=arguments.length>=3?P.call(arguments,2):[],r=null!=n?n[e]:void 0,"function"==typeof r&&(r=r.apply(null,t)),r},g=function(t){function e(){this._locale="en",this.setNumberStyle(d)}return M(e,t),e.prototype._allowsFloats=null,e.prototype._alwaysShowsDecimalSeparator=null,e.prototype._countryCode=null,e.prototype._currencyCode=null,e.prototype._groupingSeparator=null,e.prototype._groupingSize=null,e.prototype._locale=null,e.prototype._internationalCurrencySymbol=null,e.prototype._maximumFractionDigits=null,e.prototype._minimumFractionDigits=null,e.prototype._maximumIntegerDigits=null,e.prototype._minimumIntegerDigits=null,e.prototype._maximum=null,e.prototype._minimum=null,e.prototype._multiplier=null,e.prototype._notANumberSymbol=null,e.prototype._nullSymbol=null,e.prototype._numberStyle=null,e.prototype._roundingMode=null,e.prototype._usesGroupingSeparator=null,e.prototype._zeroSymbol=null,e.prototype.allowsFloats=function(){return this._get("allowsFloats")},e.prototype.setAllowsFloats=function(t){return this._allowsFloats=t,this},e.prototype.alwaysShowsDecimalSeparator=function(){return this._get("alwaysShowsDecimalSeparator")},e.prototype.setAlwaysShowsDecimalSeparator=function(t){return this._alwaysShowsDecimalSeparator=t,this},e.prototype.countryCode=function(){return this._countryCode||o},e.prototype.setCountryCode=function(t){return this._countryCode=t,this},e.prototype.currencyCode=function(){return this._get("currencyCode")},e.prototype.setCurrencyCode=function(t){return this._currencyCode=t,this},e.prototype.currencySymbol=function(){return this._shouldShowNativeCurrencySymbol()?this._get("currencySymbol"):this._get("internationalCurrencySymbol")},e.prototype.setCurrencySymbol=function(t){return this._currencySymbol=t,this},e.prototype._shouldShowNativeCurrencySymbol=function(){var t,e;return t=this._regionDefaults().currencyCode,t=null!=(e="function"==typeof t?t():void 0)?e:t,this.currencyCode()===t},e.prototype.decimalSeparator=function(){return this._get("decimalSeparator")},e.prototype.setDecimalSeparator=function(t){return this._decimalSeparator=t,this},e.prototype.groupingSeparator=function(){return this._get("groupingSeparator")},e.prototype.setGroupingSeparator=function(t){return this._groupingSeparator=t,this},e.prototype.groupingSize=function(){return this._get("groupingSize")},e.prototype.setGroupingSize=function(t){return this._groupingSize=t,this},e.prototype.internationalCurrencySymbol=function(){return this._get("internationalCurrencySymbol")},e.prototype.setInternationalCurrencySymbol=function(t){return this._internationalCurrencySymbol=t,this},e.prototype.locale=function(){return this._locale||s},e.prototype.setLocale=function(t){return this._locale=t,this},e.prototype.maximum=function(){return this._maximum},e.prototype.setMaximum=function(t){return this._maximum=t,this},e.prototype.minimum=function(){return this._minimum},e.prototype.setMinimum=function(t){return this._minimum=t,this},e.prototype.maximumFractionDigits=function(){return this._get("maximumFractionDigits")},e.prototype.setMaximumFractionDigits=function(t){return this._maximumFractionDigits=t,this},e.prototype.minimumFractionDigits=function(){return this._get("minimumFractionDigits")},e.prototype.setMinimumFractionDigits=function(t){return this._minimumFractionDigits=t,this},e.prototype.maximumIntegerDigits=function(){return this._get("maximumIntegerDigits")},e.prototype.setMaximumIntegerDigits=function(t){return this._maximumIntegerDigits=t,this},e.prototype.minimumIntegerDigits=function(){return this._get("minimumIntegerDigits")},e.prototype.setMinimumIntegerDigits=function(t){return this._minimumIntegerDigits=t,this},e.prototype.multiplier=function(){return this._get("multiplier")},e.prototype.setMultiplier=function(t){return this._multiplier=t,this},e.prototype.negativeInfinitySymbol=function(){return this._get("negativeInfinitySymbol")},e.prototype.setNegativeInfinitySymbol=function(t){return this._negativeInfinitySymbol=t},e.prototype.negativePrefix=function(){return this._get("negativePrefix")},e.prototype.setNegativePrefix=function(t){return this._negativePrefix=t,this},e.prototype.negativeSuffix=function(){return this._get("negativeSuffix")},e.prototype.setNegativeSuffix=function(t){return this._negativeSuffix=t,this},e.prototype.notANumberSymbol=function(){return this._get("notANumberSymbol")},e.prototype.setNotANumberSymbol=function(t){return this._notANumberSymbol=t},e.prototype.nullSymbol=function(){return this._get("nullSymbol")},e.prototype.setNullSymbol=function(t){return this._nullSymbol=t},e.prototype.numberStyle=function(){return this._numberStyle},e.prototype.setNumberStyle=function(t){switch(this._numberStyle=t,this._numberStyle){case d:this._styleDefaults=_.NONE;break;case m:this._styleDefaults=_.PERCENT;break;case r:this._styleDefaults=_.CURRENCY;break;default:this._styleDefaults=null}return this},e.prototype.percentSymbol=function(){return this._get("percentSymbol")},e.prototype.setPercentSymbol=function(t){return this._percentSymbol=t,this},e.prototype.positiveInfinitySymbol=function(){return this._get("positiveInfinitySymbol")},e.prototype.setPositiveInfinitySymbol=function(t){return this._positiveInfinitySymbol=t,this},e.prototype.positivePrefix=function(){return this._get("positivePrefix")},e.prototype.setPositivePrefix=function(t){return this._positivePrefix=t,this},e.prototype.positiveSuffix=function(){return this._get("positiveSuffix")},e.prototype.setPositiveSuffix=function(t){return this._positiveSuffix=t,this},e.prototype.roundingMode=function(){return this._get("roundingMode")},e.prototype.setRoundingMode=function(t){return this._roundingMode=t,this},e.prototype.usesGroupingSeparator=function(){return this._get("usesGroupingSeparator")},e.prototype.setUsesGroupingSeparator=function(t){return this._usesGroupingSeparator=t},e.prototype.zeroSymbol=function(){return this._get("zeroSymbol")},e.prototype.setZeroSymbol=function(t){return this._zeroSymbol=t},e.prototype._get=function(t){var e,n,r,i;return i=this["_"+t],null!=i?i:(r=this._styleDefaults,e=this._localeDefaults(),n=this._regionDefaults(),i=S(r,t,this,e),null!=i?i:(i=S(e,t,this,r),null!=i?i:(i=S(n,t,this,r),null!=i?i:(i=S(this._currencyDefaults(),t,this,e),null!=i?i:null))))},e.prototype.format=function(t){var e,n,r,i,o,s,a,u,l,c,p,h,f,d,g,m,y,_,v,x,S;if(null!=(v=this.zeroSymbol())&&0===t)return v;if(null!=(d=this.nullSymbol())&&null===t)return d;if(null!=(f=this.notANumberSymbol())&&isNaN(t))return f;if(null!=(g=this.positiveInfinitySymbol())&&1/0===t)return g;if(null!=(h=this.negativeInfinitySymbol())&&t===-1/0)return h;for(null!=(c=this.multiplier())&&(t*=c),i=null,n=null,_=null,p=0>t,y=function(){var e;return _=""+Math.abs(t),e=_.split("."),i=e[0],n=e[1],n||(n="")},y(),s=this.maximumFractionDigits(),n.length>s&&(t=this._round(t),y()),u=this.minimumFractionDigits();u>n.length;)n+="0";for(l=this.minimumIntegerDigits();l>i.length;)i="0"+i;for(u=this.minimumFractionDigits();n.length>u&&"0"===n.slice(-1);)n=n.slice(0,-1);if(a=this.maximumIntegerDigits(),null!=a&&i.length>a&&(i=i.slice(-a)),(n.length>0||this.alwaysShowsDecimalSeparator())&&(n=this.decimalSeparator()+n),this.usesGroupingSeparator()){for(o="",e=0,r=x=S=i.length-1;0>=S?0>=x:x>=0;r=0>=S?++x:--x)e>0&&0===e%this.groupingSize()&&(o=this.groupingSeparator()+o),o=i[r]+o,e++;i=o}return m=i+n,m=p?this.negativePrefix()+m+this.negativeSuffix():this.positivePrefix()+m+this.positiveSuffix()},e.prototype._round=function(t){return this._rounder()(t,this.maximumFractionDigits())},e.prototype._rounder=function(){switch(this.roundingMode()){case n:return D;case u:return R;case p:return A}},e.prototype.parse=function(t,e){var n;if(null!=this.zeroSymbol()&&t===this.zeroSymbol())n=0;else if(null!=this.nullSymbol()&&t===this.nullSymbol())n=null;else if(null!=this.notANumberSymbol()&&t===this.notANumberSymbol())n=0/0;else if(null!=this.positiveInfinitySymbol()&&t===this.positiveInfinitySymbol())n=1/0;else if(null!=this.negativeInfinitySymbol()&&t===this.negativeInfinitySymbol())n=-1/0;else if(null==n)if(C(this.negativePrefix(),t)&&x(this.negativeSuffix(),t))n=this._parseAbsoluteValue(t.slice(this.negativePrefix().length,t.length-this.negativeSuffix().length),e),null!=n&&(n*=-1);else{if(!C(this.positivePrefix(),t)||!x(this.positiveSuffix(),t))return"function"==typeof e&&e("number-formatter.invalid-format"),null;n=this._parseAbsoluteValue(t.slice(this.positivePrefix().length,t.length-this.positiveSuffix().length),e)}if(null!=n){if(null!=this._minimum&&this._minimum>n)return"function"==typeof e&&e("number-formatter.out-of-bounds.below-minimum"),null;if(null!=this._maximum&&n>this._maximum)return"function"==typeof e&&e("number-formatter.out-of-bounds.above-maximum"),null}return n},e.prototype._parseAbsoluteValue=function(t,e){var n,r,i,o,s;return 0===t.length?("function"==typeof e&&e("number-formatter.invalid-format"),null):(s=t.split(this.decimalSeparator()),s.length>2?("function"==typeof e&&e("number-formatter.invalid-format"),null):(r=s[0],n=s[1]||"",b(r)&&b(n)?(o=Number(r)+Number("."+(n||"0")),this.allowsFloats()||o===~~o?(null!=(i=this.multiplier())&&(o/=i),o):("function"==typeof e&&e("number-formatter.floats-not-allowed"),null)):("function"==typeof e&&e("number-formatter.invalid-format"),null)))},e.prototype._currencyDefaults=function(){var t,e,n,r,o;e={},r=i["default"];for(t in r)F.call(r,t)&&(n=r[t],e[t]=n);o=i[this.currencyCode()];for(t in o)F.call(o,t)&&(n=o[t],e[t]=n);return e},e.prototype._regionDefaults=function(){var t,e,n,r,i;e={},r=y["default"];for(t in r)F.call(r,t)&&(n=r[t],e[t]=n);i=y[this.countryCode()];for(t in i)F.call(i,t)&&(n=i[t],e[t]=n);return e},e.prototype._localeDefaults=function(){var t,e,n,r,i,o,s,a,u,l;for(o=this.locale(),t=this.countryCode(),i=E(o).lang,s={},e=[y["default"],f["default"],y[t],f[i],f[o]],u=0,l=e.length;l>u;u++){n=e[u];for(r in n)F.call(n,r)&&(a=n[r],s[r]=a)}return s},e}(l),g.prototype.stringFromNumber=g.prototype.format,g.prototype.numberFromString=g.prototype.parse,g.prototype.minusSign=g.prototype.negativePrefix,g.prototype.setMinusSign=g.prototype.setNegativePrefix,g.prototype.plusSign=g.prototype.positivePrefix,g.prototype.setPlusSign=g.prototype.setPositivePrefix,D=function(t,e){var n;return 0>t?R(-t,e):(n=Math.pow(10,e),(~~(t*n)+1)/n)},R=function(t,e){var n;return 0>t?D(-t,e):(n=Math.pow(10,e),~~(t*n)/n)},A=function(t,e){var n,r,i;return r=Math.pow(10,e),i=Math.abs(t*100*r%100),50>i?R(t,e):i>50?D(t,e):(n=~~Math.abs(t*r)%10,0===n%2^0>t?R(t,e):D(t,e))},g.Rounding={CEILING:n,FLOOR:u,DOWN:a,HALF_EVEN:p,UP:v,HALF_DOWN:c,HALF_UP:h},g.Style={NONE:d,CURRENCY:r,PERCENT:m},_={NONE:{usesGroupingSeparator:!1,minimumFractionDigits:0,maximumFractionDigits:0,minimumIntegerDigits:0},PERCENT:{usesGroupingSeparator:!1,multiplier:100,minimumFractionDigits:0,maximumFractionDigits:0,minimumIntegerDigits:0,positiveSuffix:function(t){return t.percentSymbol()},negativeSuffix:function(t){return t.percentSymbol()}},CURRENCY:{positivePrefix:function(t,e){return S(e,"positiveCurrencyPrefix",t,this)},positiveSuffix:function(t,e){return S(e,"positiveCurrencySuffix",t,this)},negativePrefix:function(t,e){return S(e,"negativeCurrencyPrefix",t,this)},negativeSuffix:function(t,e){return S(e,"negativeCurrencySuffix",t,this)}}},f={"default":{allowsFloats:!0,alwaysShowsDecimalSeparator:!1,decimalSeparator:".",groupingSeparator:",",groupingSize:3,negativeInfinitySymbol:"-∞",negativePrefix:"-",negativeSuffix:"",notANumberSymbol:"NaN",nullSymbol:"",percentSymbol:"%",positiveInfinitySymbol:"+∞",positivePrefix:"",positiveSuffix:"",roundingMode:p,positiveCurrencyPrefix:function(t){return t.currencySymbol()},positiveCurrencySuffix:"",negativeCurrencyPrefix:function(t){return"("+t.currencySymbol()},negativeCurrencySuffix:function(){return")"}},fr:{decimalSeparator:",",groupingSeparator:" ",percentSymbol:" %",positiveCurrencyPrefix:"",positiveCurrencySuffix:function(t){return" "+t.currencySymbol()},negativeCurrencyPrefix:function(){return"("},negativeCurrencySuffix:function(t){return" "+t.currencySymbol()+")"}},ja:{negativeCurrencyPrefix:function(t){return"-"+t.currencySymbol()},negativeCurrencySuffix:""},"en-GB":{negativeCurrencyPrefix:function(t){return"-"+t.currencySymbol()},negativeCurrencySuffix:""}},y={CA:{currencyCode:"CAD"},DE:{currencyCode:"EUR"},ES:{currencyCode:"EUR"},FR:{currencyCode:"EUR"},GB:{currencyCode:"GBP"},JP:{currencyCode:"JPY"},US:{currencyCode:"USD"}},i={"default":{currencySymbol:function(t){return t.currencyCode()},internationalCurrencySymbol:function(t){return t.currencyCode()},minimumFractionDigits:2,maximumFractionDigits:2,minimumIntegerDigits:1,usesGroupingSeparator:!0},CAD:{currencySymbol:"$",internationalCurrencySymbol:"CA$"},EUR:{currencySymbol:"€"},GBP:{currencySymbol:"£",internationalCurrencySymbol:"GB£"},JPY:{currencySymbol:"¥",internationalCurrencySymbol:"JP¥",minimumFractionDigits:0,maximumFractionDigits:0},USD:{currencySymbol:"$",internationalCurrencySymbol:"US$"}},e.exports=g}).call(this)},{"./formatter":9}],11:[function(t,e){(function(){var n,r,i,o,s,a={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};n=t("./delimited_text_formatter"),r={0:"(",4:")",5:" ",9:"-"},i={1:" ",2:"(",6:")",7:" ",11:"-"},o={2:" ",3:"(",7:")",8:" ",12:"-"},s=function(t){function e(){if(0!==arguments.length)throw Error("were you trying to set a delimiter ("+arguments[0]+")?")}return u(e,t),e.prototype.maximumLength=null,e.prototype.delimiterMap=null,e.prototype.isDelimiter=function(t){var e,n;return l.call(function(){var t,r;t=this.delimiterMap,r=[];for(n in t)e=t[n],r.push(e);return r}.call(this),t)>=0},e.prototype.delimiterAt=function(t){return this.delimiterMap[t]},e.prototype.hasDelimiterAtIndex=function(t){return null!=this.delimiterAt(t)},e.prototype.parse=function(t,n){var r;return r=this.digitsWithoutCountryCode(t),t.length>=10||"function"==typeof n&&n("phone-formatter.number-too-short"),"0"===r[0]&&"function"==typeof n&&n("phone-formatter.area-code-zero"),"1"===r[0]&&"function"==typeof n&&n("phone-formatter.area-code-one"),"9"===r[1]&&"function"==typeof n&&n("phone-formatter.area-code-n9n"),"1"===r[3]&&"function"==typeof n&&n("phone-formatter.central-office-one"),"11"===r.slice(4,6)&&"function"==typeof n&&n("phone-formatter.central-office-n11"),e.__super__.parse.call(this,t,n)},e.prototype.format=function(t){return this.guessFormatFromText(t),e.__super__.format.call(this,t)},e.prototype.isChangeValid=function(t,n){return this.guessFormatFromText(t.proposed.text),/^\d*$/.test(t.inserted.text)||0===t.proposed.text.indexOf("+")?e.__super__.isChangeValid.call(this,t,n):!1},e.prototype.guessFormatFromText=function(t){return"+"===t[0]?(this.delimiterMap=o,this.maximumLength=17):"1"===t[0]?(this.delimiterMap=i,this.maximumLength=16):(this.delimiterMap=r,this.maximumLength=14)},e.prototype.digitsWithoutCountryCode=function(t){var e,n;return e=(null!=t?t:"").replace(/[^\d]/g,""),n=e.length-10,n>0&&(e=e.substr(n)),e},e}(n),e.exports=s}).call(this)},{"./delimited_text_formatter":6}],12:[function(t,e){(function(){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./delimited_text_formatter"),r=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.delimiter="-",e.prototype.maximumLength=11,e.prototype.hasDelimiterAtIndex=function(t){return 3===t||6===t},e.prototype.isChangeValid=function(t){return/^\d*$/.test(t.inserted.text)?e.__super__.isChangeValid.call(this,t):!1},e}(n),e.exports=r}).call(this)},{"./delimited_text_formatter":6}],13:[function(t,e){(function(){var n,r,i,o,s,a,u,l,c,p,h=function(t,e){return function(){return t.apply(e,arguments)}},f=[].slice;s=t("./undo_manager"),p=t("./keybindings"),r=p.KEYS,c=p.keyBindingsForPlatform,n={UPSTREAM:0,DOWNSTREAM:1,NONE:null},l=function(t){return t&&/^\w$/.test(t)},a=function(t,e){return 0===e?!0:!l(t[e-1])&&l(t[e])},u=function(t,e){return e===t.length?!0:l(t[e])&&!l(t[e+1])},i=function(){function t(t,e){this.element=t,this._formatter=e,this._blur=h(this._blur,this),this._focus=h(this._focus,this),this.click=h(this.click,this),this.paste=h(this.paste,this),this.keyUp=h(this.keyUp,this),this.keyPress=h(this.keyPress,this),this.keyDown=h(this.keyDown,this),this._jQuery=this.element.constructor,this.element.on("keydown",this.keyDown),this.element.on("keypress",this.keyPress),this.element.on("keyup",this.keyUp),this.element.on("click",this.click),this.element.on("paste",this.paste),this.element.on("focus",this._focus),this.element.on("blur",this._blur),this._buildKeybindings()}return t.prototype.selectionAffinity=n.NONE,t.prototype._delegate=null,t.prototype.delegate=function(){return this._delegate},t.prototype.setDelegate=function(t){return this._delegate=t,null},t.prototype.insertText=function(t){var e;return this.hasSelection()&&this.clearSelection(),this.replaceSelection(t),e=this.selectedRange(),e.start+=e.length,e.length=0,this.setSelectedRange(e)},t.prototype.insertNewline=function(){return this._textFieldDidEndEditing(),this._didEndEditingButKeptFocus=!0},t.prototype._textDidChange=function(){var t;
return this.textDidChange(),null!=(t=this._delegate)?"function"==typeof t.textDidChange?t.textDidChange(this):void 0:void 0},t.prototype.textDidChange=function(){},t.prototype._textFieldDidEndEditing=function(){var t;return this.textFieldDidEndEditing(),null!=(t=this._delegate)?"function"==typeof t.textFieldDidEndEditing?t.textFieldDidEndEditing(this):void 0:void 0},t.prototype.textFieldDidEndEditing=function(){},t.prototype._textFieldDidBeginEditing=function(){var t;return this.textFieldDidBeginEditing(),null!=(t=this._delegate)?"function"==typeof t.textFieldDidBeginEditing?t.textFieldDidBeginEditing(this):void 0:void 0},t.prototype.textFieldDidBeginEditing=function(){},t.prototype.moveUp=function(t){return t.preventDefault(),this.setSelectedRange({start:0,length:0})},t.prototype.moveToBeginningOfParagraph=function(t){return this.moveUp(t)},t.prototype.moveUpAndModifySelection=function(t){var e;switch(t.preventDefault(),e=this.selectedRange(),this.selectionAffinity){case n.UPSTREAM:case n.NONE:e.length+=e.start,e.start=0;break;case n.DOWNSTREAM:e.length=e.start,e.start=0}return this.setSelectedRangeWithAffinity(e,n.UPSTREAM)},t.prototype.moveParagraphBackwardAndModifySelection=function(t){var e;switch(t.preventDefault(),e=this.selectedRange(),this.selectionAffinity){case n.UPSTREAM:case n.NONE:e.length+=e.start,e.start=0;break;case n.DOWNSTREAM:e.length=0}return this.setSelectedRangeWithAffinity(e,n.UPSTREAM)},t.prototype.moveToBeginningOfDocument=function(t){return this.moveToBeginningOfLine(t)},t.prototype.moveToBeginningOfDocumentAndModifySelection=function(t){var e;return t.preventDefault(),e=this.selectedRange(),e.length+=e.start,e.start=0,this.setSelectedRangeWithAffinity(e,n.UPSTREAM)},t.prototype.moveDown=function(t){var e;return t.preventDefault(),e={start:this.text().length,length:0},this.setSelectedRangeWithAffinity(e,n.NONE)},t.prototype.moveToEndOfParagraph=function(t){return this.moveDown(t)},t.prototype.moveDownAndModifySelection=function(t){var e,r;return t.preventDefault(),r=this.selectedRange(),e=this.text().length,this.selectionAffinity===n.UPSTREAM&&(r.start+=r.length),r.length=e-r.start,this.setSelectedRangeWithAffinity(r,n.DOWNSTREAM)},t.prototype.moveParagraphForwardAndModifySelection=function(t){var e;switch(t.preventDefault(),e=this.selectedRange(),this.selectionAffinity){case n.DOWNSTREAM:case n.NONE:e.length=this.text().length-e.start;break;case n.UPSTREAM:e.start+=e.length,e.length=0}return this.setSelectedRangeWithAffinity(e,n.DOWNSTREAM)},t.prototype.moveToEndOfDocument=function(t){return this.moveToEndOfLine(t)},t.prototype.moveToEndOfDocumentAndModifySelection=function(t){var e;return t.preventDefault(),e=this.selectedRange(),e.length=this.text().length-e.start,this.setSelectedRangeWithAffinity(e,n.DOWNSTREAM)},t.prototype.moveLeft=function(t){var e;return t.preventDefault(),e=this.selectedRange(),0!==e.length?e.length=0:e.start--,this.setSelectedRangeWithAffinity(e,n.NONE)},t.prototype.moveLeftAndModifySelection=function(t){var e;switch(t.preventDefault(),e=this.selectedRange(),this.selectionAffinity){case n.UPSTREAM:case n.NONE:this.selectionAffinity=n.UPSTREAM,e.start--,e.length++;break;case n.DOWNSTREAM:e.length--}return this.setSelectedRange(e)},t.prototype.moveWordLeft=function(t){var e;return t.preventDefault(),e=this.lastWordBreakBeforeIndex(this.selectedRange().start-1),this.setSelectedRange({start:e,length:0})},t.prototype.moveWordLeftAndModifySelection=function(t){var e,r,i;switch(t.preventDefault(),r=this.selectedRange(),this.selectionAffinity){case n.UPSTREAM:case n.NONE:this.selectionAffinity=n.UPSTREAM,i=this.lastWordBreakBeforeIndex(r.start-1),r.length+=r.start-i,r.start=i;break;case n.DOWNSTREAM:e=this.lastWordBreakBeforeIndex(r.start+r.length),r.start>e&&(e=r.start),r.length-=r.start+r.length-e}return this.setSelectedRange(r)},t.prototype.moveToBeginningOfLine=function(t){return t.preventDefault(),this.setSelectedRange({start:0,length:0})},t.prototype.moveToBeginningOfLineAndModifySelection=function(t){var e;return t.preventDefault(),e=this.selectedRange(),e.length+=e.start,e.start=0,this.setSelectedRangeWithAffinity(e,n.UPSTREAM)},t.prototype.moveRight=function(t){var e;return t.preventDefault(),e=this.selectedRange(),0!==e.length?(e.start+=e.length,e.length=0):e.start++,this.setSelectedRangeWithAffinity(e,n.NONE)},t.prototype.moveRightAndModifySelection=function(t){var e;switch(t.preventDefault(),e=this.selectedRange(),this.selectionAffinity){case n.UPSTREAM:e.start++,e.length--;break;case n.DOWNSTREAM:case n.NONE:this.selectionAffinity=n.DOWNSTREAM,e.length++}return this.setSelectedRange(e)},t.prototype.moveWordRight=function(t){var e,n;return t.preventDefault(),n=this.selectedRange(),e=this.nextWordBreakAfterIndex(n.start+n.length),this.setSelectedRange({start:e,length:0})},t.prototype.moveWordRightAndModifySelection=function(t){var e,r,i;switch(t.preventDefault(),r=this.selectedRange(),i=r.start,e=r.start+r.length,this.selectionAffinity){case n.UPSTREAM:i=Math.min(this.nextWordBreakAfterIndex(i),e);break;case n.DOWNSTREAM:case n.NONE:this.selectionAffinity=n.DOWNSTREAM,e=this.nextWordBreakAfterIndex(r.start+r.length)}return this.setSelectedRange({start:i,length:e-i})},t.prototype.moveToEndOfLine=function(t){return t.preventDefault(),this.setSelectedRange({start:this.text().length,length:0})},t.prototype.moveToEndOfLineAndModifySelection=function(t){var e;return t.preventDefault(),e=this.selectedRange(),e.length=this.text().length-e.start,this.setSelectedRangeWithAffinity(e,n.DOWNSTREAM)},t.prototype.deleteBackward=function(t){var e;return t.preventDefault(),e=this.selectedRange(),0===e.length&&(e.start--,e.length++,this.setSelectedRange(e)),this.clearSelection()},t.prototype.deleteWordBackward=function(t){var e,n;return this.hasSelection()?this.deleteBackward(t):(t.preventDefault(),e=this.selectedRange(),n=this.lastWordBreakBeforeIndex(e.start),e.length+=e.start-n,e.start=n,this.setSelectedRange(e),this.clearSelection())},t.prototype.deleteBackwardByDecomposingPreviousCharacter=function(t){return this.deleteBackward(t)},t.prototype.deleteBackwardToBeginningOfLine=function(t){var e;return this.hasSelection()?this.deleteBackward(t):(t.preventDefault(),e=this.selectedRange(),e.length=e.start,e.start=0,this.setSelectedRange(e),this.clearSelection())},t.prototype.deleteForward=function(t){var e;return t.preventDefault(),e=this.selectedRange(),0===e.length&&(e.length++,this.setSelectedRange(e)),this.clearSelection()},t.prototype.deleteWordForward=function(t){var e,n;return this.hasSelection()?this.deleteForward(t):(t.preventDefault(),n=this.selectedRange(),e=this.nextWordBreakAfterIndex(n.start+n.length),this.setSelectedRange({start:n.start,length:e-n.start}),this.clearSelection())},t.prototype.insertTab=function(){},t.prototype.insertBackTab=function(){},t.prototype.hasSelection=function(){return 0!==this.selectedRange().length},t.prototype.lastWordBreakBeforeIndex=function(t){var e,n,r,i,o;for(e=this.leftWordBreakIndexes(),n=e[0],i=0,o=e.length;o>i&&(r=e[i],t>r);i++)n=r;return n},t.prototype.leftWordBreakIndexes=function(){var t,e,n,r,i;for(e=[],n=this.text(),t=r=0,i=n.length-1;i>=0?i>=r:r>=i;t=i>=0?++r:--r)a(n,t)&&e.push(t);return e},t.prototype.nextWordBreakAfterIndex=function(t){var e,n,r,i,o;for(e=this.rightWordBreakIndexes().reverse(),n=e[0],i=0,o=e.length;o>i&&(r=e[i],r>t);i++)n=r;return n},t.prototype.rightWordBreakIndexes=function(){var t,e,n,r,i;for(e=[],n=this.text(),t=r=0,i=n.length;i>=0?i>=r:r>=i;t=i>=0?++r:--r)u(n,t)&&e.push(t+1);return e},t.prototype.clearSelection=function(){return this.replaceSelection("")},t.prototype.replaceSelection=function(t){var e,r,i;return r=this.selectedRange(),e=r.start+r.length,i=this.text(),i=i.substring(0,r.start)+t+i.substring(e),r.length=t.length,this.setText(i),this.setSelectedRangeWithAffinity(r,n.NONE)},t.prototype.selectAll=function(t){return t.preventDefault(),this.setSelectedRangeWithAffinity({start:0,length:this.text().length},n.NONE)},t.prototype.readSelectionFromPasteboard=function(t){var e,n;return n=t.getData("Text"),this.replaceSelection(n),e=this.selectedRange(),e.start+=e.length,e.length=0,this.setSelectedRange(e)},t.prototype.keyDown=function(t){var e,n=this;if(this._didEndEditingButKeptFocus&&(this._textFieldDidBeginEditing(),this._didEndEditingButKeptFocus=!1),e=this._bindings.actionForEvent(t))switch(e){case"undo":case"redo":return this[e](t);default:return this.rollbackInvalidChanges(function(){return n[e](t)})}},t.prototype.keyPress=function(t){var e,n=this;return t.metaKey||t.ctrlKey||(e=t.keyCode)===r.ENTER||e===r.TAB||e===r.BACKSPACE?void 0:(t.preventDefault(),this.rollbackInvalidChanges(function(){return n.insertText(String.fromCharCode(t.charCode))}))},t.prototype.keyUp=function(t){var e=this;return this.rollbackInvalidChanges(function(){return t.keyCode===r.TAB?e.selectAll(t):void 0})},t.prototype.paste=function(t){var e=this;return t.preventDefault(),this.rollbackInvalidChanges(function(){return e.readSelectionFromPasteboard(t.originalEvent.clipboardData)})},t.prototype.rollbackInvalidChanges=function(t){var e,n,r,i,s,a;if(i=null,r=null,e=o.build(this,function(){return i=t()}),n=function(t){return r=t},e.hasChanges()){if("function"==typeof(null!=(s=this.formatter())?s.isChangeValid:void 0)){if(!this.formatter().isChangeValid(e,n))return null!=(a=this.delegate())&&"function"==typeof a.textFieldDidFailToValidateChange&&a.textFieldDidFailToValidateChange(this,e,r),this.setText(e.current.text),this.setSelectedRange(e.current.selectedRange),i;e.recomputeDiff(),this.setText(e.proposed.text),this.setSelectedRange(e.proposed.selectedRange)}(e.inserted.text.length||e.deleted.text.length)&&(this.undoManager().proxyFor(this)._applyChangeFromUndoManager(e),this._textDidChange())}return i},t.prototype.click=function(){return this.selectionAffinity=n.NONE},t.prototype.on=function(){var t,e;return t=arguments.length>=1?f.call(arguments,0):[],(e=this.element).on.apply(e,t)},t.prototype.off=function(){var t,e;return t=arguments.length>=1?f.call(arguments,0):[],(e=this.element).off.apply(e,t)},t.prototype.text=function(){return this.element.val()},t.prototype.setText=function(t){return this.element.val(t)},t.prototype.value=function(){var t,e=this;return t=this.text(),this._formatter?this._formatter.parse(t,function(n){var r;return null!=(r=e._delegate)?"function"==typeof r.textFieldDidFailToParseString?r.textFieldDidFailToParseString(e,t,n):void 0:void 0}):t},t.prototype.setValue=function(t){return this._formatter&&(t=this._formatter.format(t)),this.setText(""+t),this.element.trigger("change")},t.prototype.formatter=function(){return this._formatter},t.prototype.setFormatter=function(t){var e;return e=this.value(),this._formatter=t,this.setValue(e)},t.prototype.selectedRange=function(){var t;return t=this.element.caret(),{start:t.start,length:t.end-t.start}},t.prototype.setSelectedRange=function(t){return this.setSelectedRangeWithAffinity(t,this.selectionAffinity)},t.prototype.setSelectedRangeWithAffinity=function(t,e){var r,i,o;return o=0,i=this.text().length,r={start:Math.max(o,Math.min(i,t.start)),end:Math.max(o,Math.min(i,t.start+t.length))},this.element.caret(r),this.selectionAffinity=0===t.length?n.NONE:e},t.prototype.selectionAnchor=function(){var t;switch(t=this.selectedRange(),this.selectionAffinity){case n.UPSTREAM:return t.start+t.length;case n.DOWNSTREAM:return t.start;default:return null}},t.prototype.undo=function(t){return this.undoManager().canUndo()&&this.undoManager().undo(),t.preventDefault()},t.prototype.redo=function(t){return this.undoManager().canRedo()&&this.undoManager().redo(),t.preventDefault()},t.prototype.undoManager=function(){return this._undoManager||(this._undoManager=new s)},t.prototype.allowsUndo=function(){return this._allowsUndo},t.prototype.setAllowsUndo=function(t){return this._allowsUndo=t},t.prototype._applyChangeFromUndoManager=function(t){return this.undoManager().proxyFor(this)._applyChangeFromUndoManager(t),this.undoManager().isUndoing()?(this.setText(t.current.text),this.setSelectedRange(t.current.selectedRange)):(this.setText(t.proposed.text),this.setSelectedRange(t.proposed.selectedRange)),this._textDidChange()},t.prototype._enabled=!0,t.prototype.isEnabled=function(){return this._enabled},t.prototype.setEnabled=function(t){return this._enabled=t,this._syncPlaceholder(),null},t.prototype.hasFocus=function(){return this.element.get(0).ownerDocument.activeElement===this.element.get(0)},t.prototype._focus=function(){return this._textFieldDidBeginEditing(),this._syncPlaceholder()},t.prototype._blur=function(){return this._textFieldDidEndEditing(),this._syncPlaceholder()},t.prototype._didEndEditingButKeptFocus=!1,t.prototype.becomeFirstResponder=function(){var t=this;return this.element.focus(),this.rollbackInvalidChanges(function(){return t.element.select(),t._syncPlaceholder()})},t.prototype.resignFirstResponder=function(t){return null!=t&&t.preventDefault(),this.element.blur(),this._syncPlaceholder()},t.prototype._placeholder=null,t.prototype._disabledPlaceholder=null,t.prototype._focusedPlaceholder=null,t.prototype._unfocusedPlaceholder=null,t.prototype.disabledPlaceholder=function(){return this._disabledPlaceholder},t.prototype.setDisabledPlaceholder=function(t){return this._disabledPlaceholder=t,this._syncPlaceholder(),null},t.prototype.focusedPlaceholder=function(){return this._focusedPlaceholder},t.prototype.setFocusedPlaceholder=function(t){return this._focusedPlaceholder=t,this._syncPlaceholder(),null},t.prototype.unfocusedPlaceholder=function(){return this._unfocusedPlaceholder},t.prototype.setUnfocusedPlaceholder=function(t){return this._unfocusedPlaceholder=t,this._syncPlaceholder(),null},t.prototype.placeholder=function(){return this._placeholder},t.prototype.setPlaceholder=function(t){return this._placeholder=t,this.element.attr("placeholder",this._placeholder)},t.prototype._syncPlaceholder=function(){if(this._enabled){if(this.hasFocus()){if(null!=this._focusedPlaceholder)return this.setPlaceholder(this._focusedPlaceholder)}else if(null!=this._unfocusedPlaceholder)return this.setPlaceholder(this._unfocusedPlaceholder)}else if(null!=this._disabledPlaceholder)return this.setPlaceholder(this._disabledPlaceholder)},t.prototype._buildKeybindings=function(){var t,e;return e=this.element.get(0).ownerDocument.defaultView.navigator.userAgent,t=/^Mozilla\/[\d\.]+ \(Macintosh/.test(e),this._bindings=c(t?"OSX":"Default")},t.prototype.inspect=function(){return'#<TextField text="'+this.text()+'">'},t}(),o=function(){function t(t){this.field=t}return t.prototype.field=null,t.prototype.current=null,t.prototype.proposed=null,t.build=function(t,e){var n;return n=new this(t),n.current={text:t.text(),selectedRange:t.selectedRange()},e(),n.proposed={text:t.text(),selectedRange:t.selectedRange()},n.recomputeDiff(),n},t.prototype.hasChanges=function(){return this.recomputeDiff(),this.current.text!==this.proposed.text||this.current.selectedRange.start!==this.proposed.selectedRange.start||this.current.selectedRange.length!==this.proposed.selectedRange.length},t.prototype.recomputeDiff=function(){var t,e,n,r,i,o,s,a,u,l,c;if(this.proposed.text!==this.current.text){for(t=this.current.text,o=this.proposed.text,s=0,a=0,i=Math.min(t.length,o.length),n=u=0;(i>=0?i>u:u>i)&&o[n]===t[n];n=i>=0?++u:--u)s=n+1;for(n=l=0,c=i-s;(c>=0?c>l:l>c)&&o[o.length-1-n]===t[t.length-1-n];n=c>=0?++l:--l)a=n+1;r={start:s,end:o.length-a},e={start:s,end:t.length-a},r.text=o.substring(r.start,r.end),e.text=t.substring(e.start,e.end),this.inserted=r,this.deleted=e}else this.inserted={start:this.proposed.selectedRange.start,end:this.proposed.selectedRange.start+this.proposed.selectedRange.length,text:""},this.deleted={start:this.current.selectedRange.start,end:this.current.selectedRange.start+this.current.selectedRange.length,text:""};return null},t}(),e.exports=i}).call(this)},{"./undo_manager":14,"./keybindings":16}],15:[function(t,e){(function(){var t,n,r,i,o,s,a,u;t="amex",n="discover",r="jcb",i="mastercard",o="visa",s=function(e){var s,a,u;return null==e?null:(e=""+e,s=parseInt(e.slice(0,2),10),u=parseInt(e.slice(0,6),10),a=parseInt(e.slice(0,3),10),"4"===e[0]?o:"6011"===e.slice(0,4)||65===s||a>=664&&649>=a||u>=622126&&622925>=u?n:"2131"===e.slice(0,4)||"1800"===e.slice(0,4)||35===s?r:s>=51&&55>=s?i:34===s||37===s?t:void 0)},a=function(t){var e,n,r,i,o,s;for(i=0,n=!0,r=o=s=t.length-1;0>=s?0>=o:o>=0;r=0>=s?++o:--o)" "!==t.charAt(r)&&(e=parseInt(t.charAt(r),10),i+=(n=!n)?Math.floor(2*e/10)+Math.floor(2*e%10):e);return 0===i%10},u=function(e){var a,u;switch(s(e)){case o:return 13===(a=e.length)||16===a;case n:case i:return 16===e.length;case r:return 15===(u=e.length)||16===u;case t:return 15===e.length;default:return!1}},e.exports={determineCardType:s,luhnCheck:a,validCardLength:u,AMEX:t,DISCOVER:n,JCB:r,MASTERCARD:i,VISA:o}}).call(this)},{}],16:[function(t,e){(function(){var t,n,r,i,o,s,a,u,l,c,p,h,f,d,g,m,y,_,v,x,S,b,D=[].slice;t=65,y=89,_=90,v=48,h=57,c=37,f=39,m=38,a=40,r=8,s=46,g=9,u=13,l={A:t,Y:y,Z:_,ZERO:v,NINE:h,LEFT:c,RIGHT:f,UP:m,DOWN:a,BACKSPACE:r,DELETE:s,TAB:g,ENTER:u,isDigit:function(t){return t>=v&&h>=t},isDirectional:function(t){return t===c||t===f||t===m||t===a}},o=1,p=2,n=4,d=8,S={},b=function(e){var i,l;return l="OSX"===e,i=l?p:o,S[e]||(S[e]=x(e,function(e){return e(t,i,"selectAll"),e(c,null,"moveLeft"),e(c,n,"moveWordLeft"),e(c,d,"moveLeftAndModifySelection"),e(c,n|d,"moveWordLeftAndModifySelection"),l&&e(c,p,"moveToBeginningOfLine"),l&&e(c,p|d,"moveToBeginningOfLineAndModifySelection"),e(f,null,"moveRight"),e(f,n,"moveWordRight"),e(f,d,"moveRightAndModifySelection"),e(f,n|d,"moveWordRightAndModifySelection"),l&&e(f,p,"moveToEndOfLine"),l&&e(f,p|d,"moveToEndOfLineAndModifySelection"),e(m,null,"moveUp"),e(m,n,"moveToBeginningOfParagraph"),e(m,d,"moveUpAndModifySelection"),e(m,n|d,"moveParagraphBackwardAndModifySelection"),l&&e(m,p,"moveToBeginningOfDocument"),l&&e(m,p|d,"moveToBeginningOfDocumentAndModifySelection"),e(a,null,"moveDown"),e(a,n,"moveToEndOfParagraph"),e(a,d,"moveDownAndModifySelection"),e(a,n|d,"moveParagraphForwardAndModifySelection"),l&&e(a,p,"moveToEndOfDocument"),l&&e(a,p|d,"moveToEndOfDocumentAndModifySelection"),e(r,null,"deleteBackward"),e(r,d,"deleteBackward"),e(r,n,"deleteWordBackward"),e(r,n|d,"deleteWordBackward"),l&&e(r,o,"deleteBackwardByDecomposingPreviousCharacter"),l&&e(r,o|d,"deleteBackwardByDecomposingPreviousCharacter"),e(r,i,"deleteBackwardToBeginningOfLine"),e(r,i|d,"deleteBackwardToBeginningOfLine"),e(s,null,"deleteForward"),e(s,n,"deleteWordForward"),e(g,null,"insertTab"),e(g,d,"insertBackTab"),e(u,null,"insertNewline"),e(_,i,"undo"),l&&e(_,p|d,"redo"),l?void 0:e(y,o,"redo")}))},x=function(t,e){var n;return n=new i(t),e(function(){var t;return t=arguments.length>=1?D.call(arguments,0):[],n.bind.apply(n,t)}),n},i=function(){function t(t){this.platform=t,this.bindings={}}return t.prototype.platform=null,t.prototype.bindings=null,t.prototype.bind=function(t,e,n){var r;return((r=this.bindings)[t]||(r[t]={}))[e||0]=n},t.prototype.actionForEvent=function(t){var e,r;return(e=this.bindings[t.keyCode])?(r=0,t.altKey&&(r|=n),t.ctrlKey&&(r|=o),t.metaKey&&(r|=p),t.shiftKey&&(r|=d),e[r]):void 0},t}(),e.exports={KEYS:l,keyBindingsForPlatform:b}}).call(this)},{}]},{},[1])(1)});